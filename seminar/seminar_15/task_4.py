"""
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ4
üìå –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: ‚Äú1-–π —á–µ—Ç–≤–µ—Ä–≥ –Ω–æ—è–±—Ä—è‚Äù, ‚Äú3-—è —Å—Ä–µ–¥–∞ –º–∞—è‚Äù –∏ —Ç.–ø.
üìå –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –µ–≥–æ –≤ –¥–∞—Ç—É –≤ —Ç–µ–∫—É—â–µ–º –≥–æ–¥—É.
üìå –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É.
"""

from datetime import date
import logging

logging.basicConfig(filename='log_task_4.log.', filemode='w', encoding='utf-8', level=logging.ERROR)


def user_date(data_text):
    dict_month = {'—è–Ω–≤–∞—Ä—è': 1, '—Ñ–µ–≤—Ä–∞–ª—è': 2, '–º–∞—Ä—Ç–∞': 3, '–∞–ø—Ä–µ–ª—è': 4, '–º–∞—è': 5, '–∏—é–Ω—è': 6,
                  '–∏—é–ª—è': 7, '–∞–≤–≥—É—Å—Ç–∞': 8, '—Å–µ–Ω—Ç—è–±—Ä—è': 9, '–æ–∫—Ç—è–±—Ä—è': 10, '–Ω–æ—è–±—Ä—è': 11, '–¥–µ–∫–∞–±—Ä—è': 12}
    dict_days = {'–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': 1, '–≤—Ç–æ—Ä–Ω–∏–∫': 2, '—Å—Ä–µ–¥–∞': 3, '—á–µ—Ç–≤–µ—Ä–≥': 4,
                 '–ø—è—Ç–Ω–∏—Ü–∞': 5, '—Å—É–±–±–æ—Ç–∞': 6, '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ': 7}
    try:
        data_text = data_text.split()
        num_week, day, month = int(data_text[0][0]), int(dict_days[data_text[1]]), int(dict_month[data_text[2]])
    except ValueError:
        logging.error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö')
        return '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö'

    # –ø–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
    data_month = month  # –º–µ—Å—è—Ü –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
    data_year = date.today().year  # —Ç–µ–∫—É—â–∏–π –≥–æ–¥ - –≥–æ–¥ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã

    first_day_data_month = date(data_year, data_month, 1).weekday()  # –Ω–æ–º–µ—Ä –¥–Ω—è –Ω–µ–¥–µ–ª–∏ –ø–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞
    # –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–µ–Ω—å –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
    if first_day_data_month >= day:
        data_day = (7 - first_day_data_month) + (
                num_week - 1) * 7 + day  # –µ—Å–ª–∏ –≤ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–µ –º–µ—Å—è—Ü–∞ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
    else:
        data_day = (7 - first_day_data_month) + (
                num_week - 2) * 7 + day  # –µ—Å–ª–∏ –≤ –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–µ –º–µ—Å—è—Ü–∞ –µ—Å—Ç—å —Ç–∞–∫–æ–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏
    try:
        data = date(data_year, data_month, data_day)
    except ValueError:
        logging.error('–ù–µ—Ç —Ç–∞–∫–æ–≥–æ –¥–Ω—è –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ')
        return '–ù–µ—Ç —Ç–∞–∫–æ–≥–æ –¥–Ω—è –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ'
    return data


if __name__ == '__main__':

    dates = ['1-–π –≤—Ç–æ—Ä–Ω–∏–∫ –º–∞—Ä—Ç–∞', '1-–π —á–µ—Ç–≤–µ—Ä–≥ –Ω–æ—è–±—Ä—è', '–æ–ø—è—Ç—å –≤—Ç–æ—Ä–Ω–∏–∫ –≤ –º–∞—Ä—Ç–µ', '3-—è —Å—Ä–µ–¥–∞ –º–∞—è', '5-–π —á–µ—Ç–≤–µ—Ä–≥ –∞–ø—Ä–µ–ª—è']
    for el in dates:
        print(user_date(el))
